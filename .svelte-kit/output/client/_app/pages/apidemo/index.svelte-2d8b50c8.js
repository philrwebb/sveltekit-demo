import{S as t,i as a,s as c,W as e,e as s,t as n,k as l,c as o,a as r,g as h,d as u,n as i,b as f,f as d,F as p,J as m,X as g,H as k,h as v,Y as b,l as x,R as N}from"../../chunks/vendor-2ef19531.js";function E(t,a,c){const e=t.slice();return e[5]=a[c],e}function $(t){let a,c,e=t[8].message+"";return{c(){a=n("exception "),c=n(e)},l(t){a=h(t,"exception "),c=h(t,e)},m(t,e){d(t,a,e),d(t,c,e)},p(t,a){2&a&&e!==(e=t[8].message+"")&&v(c,e)},d(t){t&&u(a),t&&u(c)}}}function T(t){let a,c=t[0].characters,e=[];for(let s=0;s<c.length;s+=1)e[s]=w(E(t,c,s));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();a=x()},l(t){for(let a=0;a<e.length;a+=1)e[a].l(t);a=x()},m(t,c){for(let a=0;a<e.length;a+=1)e[a].m(t,c);d(t,a,c)},p(t,s){if(1&s){let n;for(c=t[0].characters,n=0;n<c.length;n+=1){const l=E(t,c,n);e[n]?e[n].p(l,s):(e[n]=w(l),e[n].c(),e[n].m(a.parentNode,a))}for(;n<e.length;n+=1)e[n].d(1);e.length=c.length}},d(t){N(e,t),t&&u(a)}}}function w(t){let a,c,e,l,i=t[5].name+"";return{c(){a=s("button"),c=n(i),this.h()},l(t){a=o(t,"BUTTON",{class:!0});var e=r(a);c=h(e,i),e.forEach(u),this.h()},h(){f(a,"class","svelte-1cutkh4")},m(s,n){d(s,a,n),p(a,c),e||(l=m(a,"click",(function(){b(j(t[5].name))&&j(t[5].name).apply(this,arguments)})),e=!0)},p(a,e){t=a,1&e&&i!==(i=t[5].name+"")&&v(c,i)},d(t){t&&u(a),e=!1,l()}}}function y(t){let a;return{c(){a=n("loading")},l(t){a=h(t,"loading")},m(t,c){d(t,a,c)},p:k,d(t){t&&u(a)}}}function I(t){let a,c,v,b,x,N,E,w,I,j,B={ctx:t,current:null,token:null,hasCatch:!0,pending:y,then:T,catch:$,error:8};return e(N=t[1],B),{c(){a=s("main"),c=s("div"),v=s("button"),b=n("load data"),x=l(),B.block.c(),E=l(),w=s("div"),this.h()},l(t){a=o(t,"MAIN",{class:!0});var e=r(a);c=o(e,"DIV",{class:!0});var s=r(c);v=o(s,"BUTTON",{class:!0});var n=r(v);b=h(n,"load data"),n.forEach(u),x=i(s),B.block.l(s),s.forEach(u),E=i(e),w=o(e,"DIV",{class:!0}),r(w).forEach(u),e.forEach(u),this.h()},h(){f(v,"class","svelte-1cutkh4"),f(c,"class","left svelte-1cutkh4"),f(w,"class","right"),f(a,"class","svelte-1cutkh4")},m(e,s){d(e,a,s),p(a,c),p(c,v),p(v,b),p(c,x),B.block.m(c,B.anchor=null),B.mount=()=>c,B.anchor=null,p(a,E),p(a,w),I||(j=m(v,"click",t[2]),I=!0)},p(a,[c]){t=a,B.ctx=t,2&c&&N!==(N=t[1])&&e(N,B)||g(B,t,c)},i:k,o:k,d(t){t&&u(a),B.block.d(),B.token=null,B=null,I=!1,j()}}}function j(t){""!==t&&console.log(t)}function B(t,a,c){let e,s={characterName:void 0,characters:void 0,count:0},n=1;return t.$$.update=()=>{8&t.$$.dirty&&c(1,e=async function(t){const a=await fetch(`https://swapi.dev/api/people/?page=${t}`),e=await a.json();return c(0,s={characterName:e.results[1].name,characters:e.results,count:e.count}),s}(n))},[s,e,function(){10*c(3,n++,n)>s.count&&c(3,n=1)},n]}export default class extends t{constructor(t){super(),a(this,t,B,I,c,{})}}
